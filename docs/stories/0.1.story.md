# Story 0.1: Install Development Tooling

## Status: Draft

## Story

- As a Developer
- I want to run a single command to install all required development tooling
- so that I can quickly set up my local environment for testing, linting, and formatting.

## Acceptance Criteria (ACs)

- **AC 1.1:** Given the project is cloned and includes a `package.json` file, when I run `npm install` in the project root, the command completes successfully.
- **AC 1.2:** After the command completes, a `node_modules` directory exists in the project root, containing the development dependencies specified in `package.json` (such as Vitest, ESLint, Prettier).
- **AC 1.3:** After installation, I can successfully execute the predefined npm scripts in `package.json` (e.g., `npm test`, `npm run lint`).

## Tasks / Subtasks

- [ ] Task 1: Update package.json with required development dependencies (AC: 1.1, 1.2)
  - [ ] Subtask 1.1: Add Vitest as test runner (latest stable version)
  - [ ] Subtask 1.2: Add JSDOM for DOM testing support
  - [ ] Subtask 1.3: Add ESLint with recommended configuration and plugins
  - [ ] Subtask 1.4: Add Prettier for code formatting
  - [ ] Subtask 1.5: Add ESLint plugins (eslint-plugin-import, eslint-plugin-promise, eslint-plugin-jsdoc)
  - [ ] Subtask 1.6: Add lint-staged and husky for pre-commit hooks (optional but recommended)

- [ ] Task 2: Create ESLint configuration file (AC: 1.3)
  - [ ] Subtask 2.1: Create .eslintrc.json with recommended base configuration
  - [ ] Subtask 2.2: Configure parser options for ES Modules (sourceType: "module", ecmaVersion: "latest")
  - [ ] Subtask 2.3: Set environment to browser: true and es2021: true
  - [ ] Subtask 2.4: Add strict rules (no-unused-vars, eqeqeq, curly, etc.)
  - [ ] Subtask 2.5: Create .eslintignore file to exclude lib/ directory

- [ ] Task 3: Create Prettier configuration file (AC: 1.3)
  - [ ] Subtask 3.1: Create .prettierrc.json with project standards (no semicolons, single quotes, 2 spaces, trailing commas: es5, print width: 100)
  - [ ] Subtask 3.2: Create .prettierignore file to exclude lib/ directory

- [ ] Task 4: Add npm scripts to package.json (AC: 1.3)
  - [ ] Subtask 4.1: Add "test" script to run Vitest
  - [ ] Subtask 4.2: Add "test:unit" and "test:integration" scripts for specific test types
  - [ ] Subtask 4.3: Add "coverage" script for test coverage reporting
  - [ ] Subtask 4.4: Add "lint" script to run ESLint
  - [ ] Subtask 4.5: Add "format" script to run Prettier
  - [ ] Subtask 4.6: Add "lint:fix" script to auto-fix linting issues

- [ ] Task 5: Create Vitest configuration file (AC: 1.3)
  - [ ] Subtask 5.1: Create vitest.config.js with JSDOM environment setup
  - [ ] Subtask 5.2: Configure test file patterns and coverage settings
  - [ ] Subtask 5.3: Set up globals for test environment

- [ ] Task 6: Verify installation and scripts work correctly (AC: 1.1, 1.2, 1.3)
  - [ ] Subtask 6.1: Run npm install and verify node_modules directory creation
  - [ ] Subtask 6.2: Test npm run lint command
  - [ ] Subtask 6.3: Test npm run format command
  - [ ] Subtask 6.4: Test npm test command (should pass even with no tests)
  - [ ] Subtask 6.5: Test npm run coverage command

## Dev Technical Guidance

### Current Package.json State
The existing `package.json` is minimal with only basic project metadata. The current test script outputs an error and exits with code 1, which needs to be replaced with proper Vitest integration.

### Required Development Dependencies (from Tech Stack)
According to `docs/tech-stack.md`:
- **Vitest**: Latest stable version - Primary test runner for unit and integration tests
- **JSDOM**: Bundled with/used by Vitest - Simulates browser environment for DOM-related testing
- **ESLint**: For code linting and enforcing coding standards
- **Prettier**: For consistent code formatting

### Configuration Requirements (from Operational Guidelines)
From `docs/operational-guidelines.md`, Section 15.2:

**ESLint Configuration Must Include:**
- `extends: "eslint:recommended"`
- Parser options: `sourceType: "module"`, `ecmaVersion: "latest"`
- Environment: `browser: true`, `es2021: true`
- Strict rules: `no-unused-vars` (error), `eqeqeq` (error), `curly` (error)
- Plugins: eslint-plugin-import, eslint-plugin-promise, eslint-plugin-jsdoc

**Prettier Configuration Must Include:**
- No semicolons (rely on ASI)
- Single quotes for strings
- Tab width: 2 spaces
- Trailing commas: es5
- Print width: 100

### File Structure Alignment
According to `docs/project-structure.md`, the lib/ directory contains maptastic.js and should be excluded from linting/formatting. The src/ directory will contain the main application modules that will need linting.

### NPM Scripts Required
From operational guidelines, the following scripts must be available:
- `npm test` - Run Vitest
- `npm run lint` - Run ESLint
- `npm run format` - Run Prettier
- `npm run coverage` - Generate test coverage reports
- Additional scripts for test:unit, test:integration, and lint:fix are recommended

### Integration Notes
- Vitest should be configured with JSDOM for DOM testing capabilities
- Coverage reporting should be enabled for meaningful test coverage metrics
- Pre-commit hooks with Husky and lint-staged are optional but recommended for automated quality checks

### Verification Steps
After installation, verify that:
1. `node_modules` directory exists and contains all specified dependencies
2. All npm scripts execute without errors
3. ESLint can parse project files without configuration errors
4. Prettier can format code according to project standards
5. Vitest can run (even with no test files) without errors

This story establishes the foundation for the development workflow that will be used throughout the project implementation.

## Story Progress Notes

### Agent Model Used: `<Agent Model Name/Version>`

### Completion Notes List

{Any notes about implementation choices, difficulties, or follow-up needed}

### Change Log 