# Story 1.9: UI String Centralization

## Status: Pending

## Story

- As a Developer
- I want to centralize all user-facing strings (UI text, error messages, tooltips) in a shared constants module
- so that UI copy can be maintained in one place and the application is prepared for future internationalization.

## Acceptance Criteria (ACs)

- AC 9.1: Given UI strings are currently scattered throughout the codebase, when I create a centralized strings module, then all user-facing text is defined in `src/constants/strings.js`.
- AC 9.2: Given the centralized strings exist, when any module needs to display user-facing text, then it imports the appropriate string from the centralized module instead of using hardcoded strings.
- AC 9.3: Given the refactoring is complete, when I need to update UI copy, then I can make the change in a single location and it reflects throughout the application.
- AC 9.4: Given centralized strings are in use, when all tests are run, then they pass and display the correct text from the centralized source.

## Tasks / Subtasks

- [ ] Task 1: Create centralized strings module (AC: 9.1)
  - [ ] Subtask 1.1: Create `src/constants/strings.js` file
  - [ ] Subtask 1.2: Define UI text constants (buttons, labels, headings)
  - [ ] Subtask 1.3: Define error message constants
  - [ ] Subtask 1.4: Define toast notification constants
  - [ ] Subtask 1.5: Define tooltip and help text constants
  - [ ] Subtask 1.6: Define welcome and instruction text constants
- [ ] Task 2: Identify and catalog all UI strings (AC: 9.1)
  - [ ] Subtask 2.1: Search for hardcoded button text and labels
  - [ ] Subtask 2.2: Search for hardcoded error messages
  - [ ] Subtask 2.3: Search for hardcoded toast notifications
  - [ ] Subtask 2.4: Search for hardcoded console log messages (user-facing)
  - [ ] Subtask 2.5: Search for hardcoded welcome and instruction text
  - [ ] Subtask 2.6: Document all locations requiring string replacement
- [ ] Task 3: Design string organization structure (AC: 9.1)
  - [ ] Subtask 3.1: Create logical groupings for different UI contexts
  - [ ] Subtask 3.2: Design naming conventions for string constants
  - [ ] Subtask 3.3: Create structure ready for future i18n (locale support)
  - [ ] Subtask 3.4: Plan for dynamic string interpolation where needed
- [ ] Task 4: Refactor UIManager module (AC: 9.2)
  - [ ] Subtask 4.1: Replace hardcoded button labels with imported strings
  - [ ] Subtask 4.2: Replace hardcoded tooltip text with imported strings
  - [ ] Subtask 4.3: Replace hardcoded status messages with imported strings
  - [ ] Subtask 4.4: Replace hardcoded banner text with imported strings
- [ ] Task 5: Refactor error handling modules (AC: 9.2)
  - [ ] Subtask 5.1: Replace hardcoded error messages in facades
  - [ ] Subtask 5.2: Replace hardcoded console error messages
  - [ ] Subtask 5.3: Replace hardcoded toast error messages
  - [ ] Subtask 5.4: Ensure error message consistency across modules
- [ ] Task 6: Refactor notification and toast messages (AC: 9.2)
  - [ ] Subtask 6.1: Replace hardcoded success messages with imported strings
  - [ ] Subtask 6.2: Replace hardcoded warning messages with imported strings
  - [ ] Subtask 6.3: Replace hardcoded info messages with imported strings
  - [ ] Subtask 6.4: Ensure toast message consistency
- [ ] Task 7: Update tests to use centralized strings (AC: 9.4)
  - [ ] Subtask 7.1: Update test expectations to use imported strings
  - [ ] Subtask 7.2: Test that UI elements display correct text from constants
  - [ ] Subtask 7.3: Test error message display uses centralized strings
  - [ ] Subtask 7.4: Test toast notifications use centralized strings
- [ ] Task 8: Final verification and cleanup (AC: 9.3, 9.4)
  - [ ] Subtask 8.1: Search for remaining hardcoded user-facing strings
  - [ ] Subtask 8.2: Test UI copy changes by modifying centralized strings
  - [ ] Subtask 8.3: Run full test suite to ensure no regressions
  - [ ] Subtask 8.4: Document string management patterns for future development

## Dev Technical Guidance

### Context & Purpose

This story addresses the scattered UI strings identified during code analysis. User-facing text is currently hardcoded throughout the application, making it difficult to maintain consistent copy and impossible to support future internationalization. Centralizing strings improves maintainability and prepares for potential i18n support.

### Current String Distribution Analysis

**Identified string categories:**
- Button labels ("Files", "Folders", "Clear Media", etc.)
- Error messages (file validation, access errors, etc.)
- Toast notifications (success, warning, error messages)
- Welcome and instruction text
- Status and banner messages
- Console log messages (user-relevant)

### Proposed String Structure

```javascript
// src/constants/strings.js
export const STRINGS = {
  // UI Labels and Buttons
  ui: {
    buttons: {
      files: "ðŸ“„ Files",
      folders: "ðŸ“ Folders", 
      clearMedia: "ðŸ—‘ï¸ Clear Media",
      restoreAccess: "ðŸ”“ Restore Access",
      bulkRestore: "â†—ï¸ Bulk Restore All"
    },
    labels: {
      mediaPool: "Media Pool",
      temporaryFiles: "Temporary Files",
      persistentFiles: "Persistent Files"
    }
  },
  
  // Messages and Notifications
  messages: {
    welcome: "Welcome to VJ Tam Tam, please drag and drop your photos and videos here, or click to browse, to start your performance",
    errors: {
      fileNotSupported: "File type not supported. Supported types: JPG, PNG, GIF, HEIC, WebP, MP4, MOV, WebM",
      accessDenied: "File access denied. Please try again.",
      loadingFailed: "Failed to load media file"
    },
    success: {
      mediaAdded: "Media added successfully",
      accessRestored: "File access restored",
      bulkRestoreComplete: "All files restored successfully"
    },
    warnings: {
      needsPermission: "Some files need permission to access",
      temporaryFiles: "Drag & drop files are temporary and won't persist across sessions"
    }
  },
  
  // Banners and Help Text
  banners: {
    fileSystemApi: "Use ðŸ“„ Files or ðŸ“ Folders buttons for persistent files that will be available next time you visit",
    permissionNeeded: "Click to restore access to your files"
  }
}

// Helper function for nested access
export const getString = (path) => {
  return path.split('.').reduce((obj, key) => obj?.[key], STRINGS)
}
```

### Migration Strategy

1. **Create Base Structure:** Start with main string categories
2. **Module-by-Module:** Refactor one module at a time
3. **Test Integration:** Ensure UI displays correctly after each change
4. **Verify Consistency:** Check that similar messages use same strings
5. **Future-Proof:** Design structure that can support i18n libraries

### Critical Considerations

1. **String Interpolation:** Plan for dynamic content (file names, counts, etc.)
2. **Context Awareness:** Same concept might need different strings in different contexts
3. **Consistency:** Ensure similar actions use consistent terminology
4. **Accessibility:** Consider screen reader friendliness in string design
5. **Length Considerations:** UI layouts should accommodate varying string lengths

### Testing Strategy

- Verify all UI text comes from centralized strings
- Test string changes reflect immediately in UI
- Validate error messages display correctly
- Check toast notifications use proper strings
- Ensure no hardcoded strings remain in modules

## Story Progress Notes

### Agent Model Used: [To be filled by implementing agent]

### Completion Notes

[To be filled during implementation]

## Story DoD Checklist Report

- [ ] **Functionality**: All UI text displays correctly from centralized strings
- [ ] **Code Quality**: No hardcoded user-facing strings exist in modules
- [ ] **Testing**: All tests verify correct string usage
- [ ] **Error Handling**: Error messages come from centralized constants
- [ ] **Documentation**: String management patterns documented
- [ ] **Integration**: All modules consistently use centralized strings
- [ ] **Accessibility**: Strings are screen reader friendly and consistent 